{% load posts_extra %}
<div class="post my-2 first:mt-1 p-3 flex justify-between relative hover:border-b-slate-400 flex-col-reverse sm:flex-row">
    <div class="sm:w-3/5 md:w-3/5 xl:w-3/5 flex flex-col justify-between pt-3 sm:pl-3" >
        <a class="group block" href="/{{post.slug}}" >
            <h2 dir="rtl" class="group-focus-visible:underline text-2xl font-bold group-hover:underline cursor-pointer mb-2 sm:mb-0">
                {{post.title|title}}
            </h2>
            <p class="my-1 text-gray-800 sm:block" dir="rtl">
                {{post.text|truncatechars:200|markdown|striptags}}
            </p>
        </a>

        <span class="block overflow-hidden h-min relative after:absolute after:left-0 after:h-full after:w-32 after:bg-gradient-to-r after:from-white whitespace-nowrap">
            <span title="{{post.date|date:'j M Y'}}" class="bg-gray-100 text-sm px-2 rounded-full text-gray-500 sm:m-0">
                {{post.date|tsince|cut:'ها'}} پیش
            </span>
        {% for tag in post.tags.all %}
            <a
            name="{{tag.name}}"
            href="/tags/{{tag.name}}"
            class="hover:underline focus-visible:underline mr-2 text-{{tag.pk|gencol}} cursor-pointer first:mr-0"
            >
            <i class="bi bi-hash"></i>
            <span class="text-gray-700">
                {{tag.name}}
            </span>
            </a>
        {% endfor %}
        </span>
    </div>
	<div class="thumb aspect-video overflow-hidden rounded-lg sm:w-2/5 bg-[url({{post.image.url|safe}})] bg-center bg-cover"></div>
</div>
